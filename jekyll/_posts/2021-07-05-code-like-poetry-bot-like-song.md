---
title: "code如诗，bot如歌，由Wechaty引发的一个小白冒险之旅"
author: cixingguangming55555
categories: article
tags:
  - bot
image: /assets/2021/07-code-like-poetry-bot-like-song/cover.jpg 
---
> 作者: [cixingguangming55555](https://github.com/cixingguangming55555)，老张学技术

## 非关

短，分行，如诗。  
这个世界，除了我喜欢的汉字的堆叠，竟然还有这样美妙的存在。  
不是偶然。  
是生命中的不期而遇。  
更是一世的欣喜！  
所以，偶有闲暇，我就会拾起手指，在短、分行中，感受内心的律动。  
当然，我本闲散人，怎会成极客？高山仰止，心向往之，于惴惴中前行，算是对自己的一种安慰。  

慢，曲达，如歌。  
历程不重要。  
代码不重要。  
当第一次跑出想要的结果，我拍击的桌面，响彻了......  
这是无数种我听到的声音中，最动人的，最悦耳的，虽然无人传唱，却在我心回荡！  
这是那个叫bot的家伙，经由我的指节，它偶尔会破嗓，也偶尔会悠扬......  
  
## 缘起

见过凌晨四点的北京.....  
见过凌晨五点的成都.....  
这是凡尔赛的笔法，据说。  
我经常必须见，回头见，不见还不散，请问，这是什么赛?  

觉悟要高，执行要透。  
客户经常这样对我说。我默然。  
然后开始去思考，什么样的觉悟才是高觉悟，什么样的执行才是透了的？  
  
bot这个家伙的萌芽，来自于连续几个通宵之后，和客户在“亲切友好”的气氛中，灵感就这么砰的一声，迸发了出来。  
客户拍着我的肩膀说，老张，你TMD能不能没事不要骚扰我，我连续好久接你半夜电话，都快成客服了。  
我说，我TMD可以不骚扰你，你说吧，什么时候可以骚扰。  
客户的脸笑成朵花，这是我看到的最美的花朵之一。  
我们一生中，有些花，开的真的很美。  
  
信息的搜集，优先级的排序，时间的设定，发送的机制。  
在一轮一轮中，终于敲定了方案。  
客户再次笑了，嗯，觉悟还是够的，赶紧上。  
  
然后真的在友好的氛围中，开始了后面的历程。  

## 历程
  
### 一
  
我对度娘没什么好感，相较google而言。  
但是我最终还是从了度娘，她毕竟，也能给我一些，我想要的温柔，此处应该有掌声兼括号（不要想多了）。  
github也经常慢如蜗牛。有时候，你得忍，小不忍，则乱大谋。  
我认，我忍。  
我就在度娘和github之间不断切换，穷尽了：微信 机器人 wx机器人 微信bot wechat机器人 ......  
然后把眼睛睁大，注意力集中，在我熟悉的汉字里，我竟然一无所获......  
那是2017年的8月。  

功夫不负舔狗人。  
舔的时间久了，上天或许会看在你无脑且勤奋的份上，不经意的给你一个惊喜（当然，舔狗始终是舔狗，舔狗要不忘初心）。  
凭着我蹩脚的英语，和舔狗的执着，我终于发现了：  
Wechaty!  

我印象最深刻的一句话是：五行代码就可以写一个微信机器人（据说是六行，我一直的印象是五行，我天生喜五，看我账号就知道，哈哈）。  
你们懂的！那种欣喜若狂！  
你们不懂吗？那种欣喜若狂!  
反正我懂就可以了！此处有敲击桌子的重响，请不要模仿，以免你的老婆给你来个更重的狮子吼！  

坦率讲，看到扑面而来一屏英文的时候，当时的内心，其实想骂：这TMD全是英文啊？！（TMD是汉字，但不要曲解，意思是：挺萌的）。  
然后就买了一个腾讯的vps（这又是另外的一种洁癖，我因为微信的原因，喜欢上了腾讯的种种，除了游戏，然后对阿里的各种弃之一隅）。  
然后各种度娘，各种环境、代码报错。  
TMD。  
对，挺萌的。  
Wechaty这个东东，上报一个问题的规矩居然这么复杂，我把fanyi.baidu.com都折腾烂了，才按照要求，把报错信息提了上去。  
那是26 Aug 2017，为什么这么清晰，因为我从已经close掉的issue里面，拷贝出来的。  
然后等待大神的......  
  
然后终于代码跑通了。  
机器人发出的第一个信息：Hello World!你好，老张！  

### 二
  
客户和我开始了一段非常甜蜜的时光（大家脑洞不能大开，正经点）。  
但是，这种友好而亲切的氛围，被两个问题打破：  
这样白嫖开源，真的好吗？  
网络安全问题（数据在内网），要关闭向腾讯VPS传递数据的端口。  
  
第一个问题还好，先白嫖吧，大家不都这么干的？所以第一个问题，还是白嫖大法好，至于未来的事情，仿佛可以不管。  
第二个问题就无解了，只有拖字诀。  
然后拖无可拖的时候，客户一脸遗憾的告诉我，我们要有觉悟，该关的必须关，该执行透的，一定要不遗余力，执行透彻。  
2017的农历春节，我们执行透彻，关掉了基于Wechaty，运行得相当开心的微信机器人。  
遗憾有之，失落更甚！  

然后我利用业余时间，开始学习微信bot相关的一些知识。  
时间很快就来到了2019。  
疫情的爆发，忽然就改变了很多：世界的轨迹，生活的轨迹。这些，悉数被纳入新的运转规则里面。  
在闭关对抗疫情的期间，我开始想，我能不能自己做一个bot？  

或许我从来不曾想过，这样的想法究竟有多冒险？
无知者无畏，与其说是对小白的褒奖，不如说是小白的真实写照。  
自此以后，我一直对这个世界上无数和我一样的小白，保持着崇高的敬意。原因无它，我就是这样的小白，我们需要这样前仆后继的小白（阴险的笑）。  

冒险之旅开启。  
除了无知的勇气外，我竟然面对的是：一入BOT深似海，再回眸时秃顶生。  
我开始折腾，度娘、github、新发现的B站、翻墙去google。  
然后，逐渐的，有一些东西，开始有了最初的模样。  
那模样，至今我一直难忘。  

## 曲达  
  
开始的版本抄了不少代码，且学之甚浅，以至于一直不敢让这些代码面世。  
但依然得到了不少的关注。  
于是在边学，边折腾中，开始了代码的重构。也终于鼓起勇气，把这些代码，放到了github上。  
于我而言，仍旧对当时的勇气，莫名感怀。  

时至今日，势仍曲，事未达，行慢而路遥，仅堪堪迈出小小的一步。  
行道如水，莫过于斯。  
而于前行中有关bot的每一种声音，都清晰而嘹亮，如歌洋洋，历久不息。  
旅程仍长，冒险还在，但心境竟然如常！  

## 致谢

致所有无私的人们！这个世界的真神，应该是你们！  
致所有坚持的人们！你们前行不倦的身影，是最好的明灯！  
